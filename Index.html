<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Encryption/Decryption</title>
</head>
<body>
    <script>
        function encrypt(text, s) {
            let result = '';
            for (let i = 0; i < text.length; i++) {
                let char = text[i];
                if (char.match(/[A-Z]/)) {
                    result += String.fromCharCode((char.charCodeAt(0) + parseInt(s) - 65) % 26 + 65);
                } else if (char.match(/[a-z]/)) {
                    result += String.fromCharCode((char.charCodeAt(0) + parseInt(s) - 97) % 26 + 97);
                } else {
                    result += char;
                }
            }
            return result;
        }

        function decryptWithKey(cipher, key) {
            let result = '';
            for (let i = 0; i < cipher.length; i++) {
                let char = cipher[i];
                if (char.match(/[A-Z]/)) {
                    result += String.fromCharCode((char.charCodeAt(0) - key - 65) % 26 + 65);
                } else if (char.match(/[a-z]/)) {
                    result += String.fromCharCode((char.charCodeAt(0) - key - 97) % 26 + 97);
                } else {
                    result += char;
                }
            }
            return result;
        }

        function encryptAndPrint() {
            console.log('Loading...');
            console.log('Loading...');
            let num = parseInt(prompt('Key: (Numerical values only)'));
            let text = prompt('Text to be encrypted:');
            let encrypted = encrypt(text, num);

            console.log('Encrypted Text: ' + encrypted);
            console.log('Key: ' + num);
        }

        function decryptAndPrint() {
            console.log('Loading...');
            console.log('Loading...');
            let cipher = prompt('Text to be decrypted:');
            let key = parseInt(prompt('Key:'));
            console.log('Decrypted Text: ' + decryptWithKey(cipher, key));
        }

        let x = prompt('');

        if (x === 'ENCRYPT') {
            encryptAndPrint();
        } else if (x === 'DECRYPT') {
            decryptAndPrint();
        } else if (x === '') {
            let yz = prompt('');
            if (yz === 'SHAARAV' || yz === 'ROOROO' || yz === 'CTF AGENT') {
                let xhhhh = prompt('');
                if (xhhhh === 'ENCRYPT') {
                    let z = prompt('');
                    let w = Math.floor(Math.random() * 27);
                    console.log('Encrypted Text: ' + encrypt(z, w));
                    console.log('Key: ' + w);
                } else if (xhhhh === 'DECRYPT') {
                    let ख = prompt('');
                    let क = parseInt(prompt(''));
                    console.log('Decrypted Text: ' + decryptWithKey(ख, क));
                }
            }
        }
    </script>
</body>
</html>

